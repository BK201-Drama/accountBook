{"version":3,"sources":["assets/img/LoginBackground.png","api/http.js","api/Login/LoginAPI.js","redux/reducer.js","redux/store.js","pages/Login/Login.jsx","pages/Sign/Sign.jsx","Components/Tabbar/Tabbar.jsx","Components/Nav/Nav.jsx","api/Booking/BookingAPI.js","utils/transPic.js","pages/PageContainer/Booking/Booking.jsx","utils/timeStamp.js","api/BillDetails/BillDetailsAPI.js","pages/PageContainer/BillDetails/BillDetails.jsx","Components/Charts/Charts.jsx","Components/Charts/BarHistogram.jsx","utils/transPicData.js","pages/PageContainer/Charts/Charts.jsx","api/MyZone/MyZoneAPI.js","pages/PageContainer/MyZone/MyZone.jsx","pages/PageContainer/Error/Error.jsx","pages/PageContainer/PageContainer.jsx","pages/Forget/Forget.jsx","router/IndexRouter.jsx","App.js","index.js"],"names":["axios","defaults","baseURL","interceptors","request","use","config","response","userLogin","info","a","get","username","password","res","data","userSign","mail","userForgetPw","resetPw","code","initState","status","message","id","image","gender","phone","state","mailcode","phonecode","createStore","preState","action","type","Login","navigate","useNavigate","onFinish","value","LoginAPI","Notify","show","duration","store","dispatch","Form","useForm","form","src","Img","className","alt","footer","style","margin","round","nativeType","block","Item","name","label","placeholder","color","fontSize","onClick","marginLeft","Sign","themeVars","Tabbar_","onChange","v","fixed","defaultValue","icon","Nav_","title","getList","addBook","userId","sortid","payid","cost","crdate","content","income","deleteBook","transPic","str","str_","split","unshift","join","Booking","getState","useState","tab","setTab","selectedItem","setSelectedItem","listOut","setListOut","listIn","setListIn","popup","setPopup","useEffect","BookingAPI","dat","outSortlis","inSortlis","keyBoardVisible","setKeyBoardVisible","costValue","setCostValue","time","setTime","active","TabPane","border","columnNum","map","item","name_","sortName","src_","sortImg","text","console","log","readonly","theme","extraKey","closeButtonText","visible","onInput","tmp","onClose","parseFloat","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Toast","success","onBlur","showCancelButton","showConfirmButton","minDate","maxDate","onCancel","onConfirm","categorizeByDay","Year","Month","categorizeByType","BillDetails","k","list","setList","fieldValue","setShowPicker","year","month","BillDetailsAPI","daylist","clickable","itm","charastic","rightAction","square","resq","sort","Charts_","props","echarts","document","getElementById","setOption","series","radius","width","height","getName","obj","result","push","getValue","BarHistogram","chartDom","xAxis","yAxis","showBackground","backgroundStyle","transPicData","Arr","length","undefined","money","Charts","setOutSortlist","setInSortList","totalOut","setTotalOut","totalIn","setTotalIn","data_","setData_","data2_","setData2_","showPicker","setFieldValue","showPicker1","setShowPicker1","fieldValue1","setFieldValue1","useMemo","BillDetailAPI","outSortlist","inSortlist","t_val","t_val1","closeable","position","showSubmitBtn","uploadPic","formData","FormData","append","post","headers","uploadGender","MyZone","url","setUrl","showPic","setShowPic","isShowUpload","setIsShowUpload","showGen","setShowGen","RadioValue","setRadioValue","Group","isLink","rightIcon","size","messageAlign","span","marginTop","resultType","afterRead","file","newfile","File","MyZoneAPI","showUpload","Error","description","PageContainer","backgroundColor","path","element","exact","Forget","setShow","fail","setUsername","setMail","setCode","setVisible","submitNewPassword","form_","destroyOnClose","onClickOverlay","IndexRouter","localStorage","getItem","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.691d4cfb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/LoginBackground.bde572fe.png\";","import axios from 'axios'\r\n\r\n// 设置前部分url，后续的url都会与它拼接\r\naxios.defaults.baseURL = 'http://106.55.188.184:8080/ssmBillBook/'\r\n\r\n// 是否为登录状态，不是就来登录获得token\r\n// 请求拦截\r\naxios.interceptors.request.use(config => {\r\n  // console.log(\"发请求的拦截\")\r\n  return config\r\n})\r\n// 响应拦截\r\naxios.interceptors.response.use(config => {\r\n  // console.log(\"接收请求的拦截\")\r\n  // console.log(config.headers.SetCookies)\r\n  return config\r\n})\r\n\r\nexport default axios","import axios from '../http'\r\n\r\nexport async function userLogin (info) {\r\n  var {data: res} = await axios.get(`user/login?username=${info.username}&password=${info.password}`)\r\n  return res\r\n}\r\n\r\nexport async function userSign (info) {\r\n  var {data: res} = await axios.get(`user/sign?username=${info.username}&password=${info.password}&mail=${info.mail}`)\r\n  return res\r\n}\r\n\r\nexport async function userForgetPw (info) {\r\n  var {data: res} = await axios.get(`user/forgetPw?username=${info.username}&mail=${info.mail}`)\r\n  return res\r\n}\r\n\r\nexport async function resetPw (info) {\r\n  var {data: res} = await axios.get(`user/changePw?username=${info.username}&password=${info.password}&code=${info.code}`)\r\n  return res\r\n}","const initState = {\r\n  status: 100,\r\n  message: \"处理成功！\",\r\n  id: 1,\r\n  username: \"admin\",\r\n  password: \"3E3E6B0E5C1C68644FC5CE3CF060211D\",\r\n  image: \"1_1514361165324.png\",\r\n  gender: \"F\",\r\n  phone: \"15922646438\",\r\n  mail: \"375027533@qq.com\",\r\n  state: 0,\r\n  mailcode: \"450294\",\r\n  phonecode: null\r\n}\r\n\r\nexport default function Reducer (preState = initState, action) {\r\n  // 在action中拿到type和data\r\n  const {type, data} = action\r\n  switch (type) {\r\n    case 'store':\r\n      return data\r\n    case 'list':\r\n      return data\r\n    default:\r\n      return preState\r\n  }\r\n}","/**\r\n * 该文件专门用于暴露一个store对象，整个应用只有一个store对象\r\n */\r\n\r\n// 引入createStore，专门用于创建redux中最为核心的redux对象\r\nimport { createStore } from 'redux'\r\n\r\n// 引入为后续组件服务的reducer\r\nimport Reducer from './reducer'\r\n\r\n// 暴露store\r\nexport default createStore(Reducer)\r\n","// react的改动，最好使用函数组件，尽量避免使用类组件\r\n\r\nimport React, { Component } from 'react'\r\nimport { Form, Button, Field, Notify } from 'react-vant'\r\nimport Img from '../../assets/img/LoginBackground.png'\r\nimport './Login.css'\r\nimport * as LoginAPI from '../../api/Login/LoginAPI'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport store from '../../redux/store'\r\n\r\nexport default function Login () {\r\n\r\n  // 不知为什么，好像用了v6的react-router-dom之后，this.props.history.push在类组件里面没有...因此我们需要操作\r\n  const navigate = useNavigate()\r\n\r\n  const onFinish = async (value) => {\r\n    // console.log(value)\r\n    const res = await LoginAPI.userLogin(value)\r\n    // console.log(res)\r\n\r\n    if(res.status < 200) {\r\n      Notify.show({\r\n        type: 'success',\r\n        message: \"登录成功\",\r\n        duration: 1000\r\n      })\r\n\r\n      const action = {\r\n        type: 'store',\r\n        data: res\r\n      }\r\n\r\n      // 将状态存入store中\r\n      store.dispatch(action)\r\n\r\n      navigate('/BillDetails')\r\n    } else {\r\n      Notify.show({\r\n        type: 'danger',\r\n        message: \"账号密码错误\",\r\n        duration: 1000\r\n      })\r\n    }\r\n  }\r\n\r\n  const rks = () => {\r\n    navigate('/user/sign')\r\n  }\r\n  \r\n  const forget = () => {\r\n    navigate('/user/forgetPw')\r\n  }\r\n\r\n  const [form] = Form.useForm()\r\n\r\n  return (\r\n    <>\r\n      <img src={Img} className={\"myImg\"} alt=\"\"/>\r\n      <div className={\"FormBox\"}>\r\n        <h3 className={\"loginText\"}>Login</h3>\r\n        <Form\r\n          form={ form }\r\n          onFinish={ onFinish }\r\n          footer={\r\n            <div style={{ margin: '16px 16px 0' }}>\r\n              <Button round nativeType=\"submit\" type=\"primary\" block>\r\n                提交\r\n              </Button>\r\n            </div>\r\n          }\r\n        >\r\n          <Form.Item\r\n            name=\"username\"\r\n            label=\"账号\"\r\n          >\r\n            <Field placeholder=\"请输入你的账号\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            label=\"密码\"\r\n            // rules={[{ pattern: /\\d{6}/, message: '密码不能为空' }]}\r\n          >\r\n            <Field placeholder=\"请输入你的密码\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n          >\r\n            <a style={{color: 'blue', fontSize: 6}} onClick={ rks }>还没注册?点我</a>\r\n            <a style={{color: 'blue', fontSize: 6, marginLeft: 200}} onClick={ forget }>忘记密码</a>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","// react的改动，最好使用函数组件，尽量避免使用类组件\r\n\r\nimport React, { Component } from 'react'\r\nimport { Form, Button, Field, Notify } from 'react-vant'\r\nimport Img from '../../assets/img/LoginBackground.png'\r\nimport './Sign.css'\r\nimport * as LoginAPI from '../../api/Login/LoginAPI'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport default function Sign () {\r\n\r\n  // 不知为什么，好像用了v6的react-router-dom之后，this.props.history.push在类组件里面没有...因此我们需要操作\r\n  const navigate = useNavigate()\r\n\r\n  const onFinish = async (value) => {\r\n    if (!value.username || !value.password || !value.mail) {\r\n      Notify.show({\r\n        type: 'danger',\r\n        message: \"信息填写不完全！\",\r\n        duration: 1000\r\n      })\r\n      return\r\n    }\r\n\r\n    // 如果都填写正常的话，就发请求\r\n    var res = await LoginAPI.userSign(value)\r\n    if(res.status < 200) {\r\n      Notify.show({\r\n        type: 'success',\r\n        message: \"注册成功！\",\r\n        duration: 1000\r\n      })\r\n      navigate('/user/login')\r\n    } else if (res.status === 200) {\r\n      Notify.show({\r\n        type: 'danger',\r\n        message: \"用户名已经存在，请继续注册！\",\r\n        duration: 1000\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n  const [form] = Form.useForm()\r\n\r\n  return (\r\n    <>\r\n      <img src={Img} className={\"myImg\"} alt=\"\"/>\r\n      <div className={\"FormBox\"}>\r\n        <h3 className={\"loginText\"}>Sign</h3>\r\n        <Form\r\n          form={ form }\r\n          onFinish={ onFinish }\r\n          footer={\r\n            <div style={{ margin: '16px 16px 0' }}>\r\n              <Button round nativeType=\"submit\" type=\"primary\" block>\r\n                提交\r\n              </Button>\r\n            </div>\r\n          }\r\n        >\r\n          <Form.Item\r\n            name=\"username\"\r\n            label=\"注册账号\"\r\n          >\r\n            <Field placeholder=\"请输入你想注册的账号\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            label=\"密码\"\r\n            // rules={[{ pattern: /\\d{6}/, message: '密码不能为空' }]}\r\n          >\r\n            <Field placeholder=\"请输入你想注册的密码\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"mail\"\r\n            label=\"注册邮箱\"\r\n            // rules={[{ pattern: /\\d{6}/, message: '密码不能为空' }]}\r\n          >\r\n            <Field placeholder=\"请输入你的邮箱\" />\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import react, { useState } from 'react';\r\nimport { Tabbar, ConfigProvider } from 'react-vant'\r\nimport { useNavigate } from 'react-router-dom'\r\n// import { Form, Button, Field, Notify } from 'react-vant'\r\n\r\nconst themeVars = {\r\n  '--rv-tabbar-background-color': \"rgb(103, 194, 179)\",\r\n  '--rv-tabbar-item-text-color': '#fff',\r\n  '--rv-tabbar-item-active-color': \"rgb(246, 130, 115)\",\r\n  '--rv-tabbar-item-active-background-color': 'rgb(103, 194, 179)',\r\n  '--rv-tabbar-height': '60px'\r\n}\r\n\r\nexport default function Tabbar_ () {\r\n  const navigate = useNavigate()\r\n  return (\r\n    <ConfigProvider themeVars={themeVars}>\r\n      <Tabbar onChange={(v) => {\r\n        switch (v) {\r\n          case 0: navigate('/BillDetails');break\r\n          case 1: navigate('/Charts');break\r\n          case 2: navigate('/Booking');break\r\n          case 3: navigate('/MyZone');break\r\n        }\r\n      }}\r\n      fixed={true}\r\n      placeholder={true}\r\n      defaultValue={0}\r\n      >\r\n        <Tabbar.Item icon=\"home-o\">明细</Tabbar.Item>\r\n        <Tabbar.Item icon=\"search\">\r\n          图表\r\n        </Tabbar.Item>\r\n        <Tabbar.Item icon=\"friends-o\">\r\n          记账\r\n        </Tabbar.Item>\r\n        <Tabbar.Item icon=\"setting-o\">\r\n          我的\r\n        </Tabbar.Item>\r\n      </Tabbar>\r\n    </ConfigProvider>\r\n  )\r\n}","import { NavBar, ConfigProvider } from 'react-vant'\r\n\r\n// css是跟RN一样的思维，用一个容器去集中管理\r\nconst themeVars = {\r\n  '--rv-nav-bar-background-color': \"rgb(246, 130, 115)\",\r\n  '--rv-nav-bar-title-text-color': \"#fff\",\r\n  '--rv-nav-bar-height': '50px'\r\n}\r\n\r\nexport default function Nav_ () {\r\n  return (\r\n    <ConfigProvider themeVars={themeVars}>\r\n      <NavBar\r\n        title=\"钱多多记账\"\r\n        fixed={true}\r\n        placeholder={true}\r\n        // leftArrow\r\n        // rightText=\"按钮\"\r\n        // onClickLeft={() => Toast.info('返回')}\r\n        // onClickRight={() => Toast.info('按钮')}\r\n      />\r\n    </ConfigProvider>\r\n  )\r\n} ","import axios from '../http'\r\n\r\nexport async function getList (id) {\r\n  const {data: res} = await axios.get(`note/user/${id}`)\r\n  return res\r\n}\r\n\r\nexport async function addBook (info) {\r\n  const {data: res} = await axios.get(\r\n    `bill/add?userid=${info.userId}&sortid=${info.sortid}&payid=${info.payid}&cost=${info.cost}&crdate=${info.crdate}&content=${info.content}&income=${info.income}`\r\n  )\r\n  return res\r\n}\r\n\r\nexport async function deleteBook (id) {\r\n  const {data: res} = await axios.get(\r\n    `bill/delete/${id}`\r\n  )\r\n  return res\r\n}","export default function transPic (str) {\r\n  const str_ = str.split('@2x')\r\n  str_.unshift('sort_')\r\n  const s = str_.join('')\r\n  return s\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Icon, Tabs, Grid, NumberKeyboard, Image, Field, DatetimePicker, Dialog, Toast } from 'react-vant'\r\nimport * as BookingAPI from '../../../api/Booking/BookingAPI'\r\nimport store from '../../../redux/store'\r\nimport transPic from '../../../utils/transPic'\r\nimport timeStamp from '../../../utils/timeStamp'\r\n\r\nexport default function Booking () {\r\n\r\n  // 登录信息\r\n  const res = store.getState()\r\n\r\n  // 存储记账类型，为支出还是收入\r\n  const [tab, setTab] = useState(false)\r\n\r\n  // 存储选择了哪一条数据\r\n  const [selectedItem, setSelectedItem] = useState()\r\n\r\n  // console.log(res)\r\n\r\n  // 存储支出和收入的数据\r\n  const [listOut, setListOut] = useState([])\r\n  const [listIn, setListIn] = useState([])\r\n\r\n  // 存储控制Popup弹出的数据\r\n  const [popup, setPopup] = useState(false)\r\n\r\n  useEffect(async () => {\r\n    var dat = await BookingAPI.getList(res.id)\r\n    await setListOut(dat.outSortlis)\r\n    await setListIn(dat.inSortlis)\r\n  }, [])\r\n\r\n  // 控制数字键盘\r\n  const [keyBoardVisible, setKeyBoardVisible] = useState(false)\r\n  const [costValue, setCostValue] = useState('0.00')\r\n\r\n  // 控制时间选择器\r\n  const [time, setTime] = useState()\r\n\r\n  return (\r\n    <>\r\n      <Tabs active=\"active\"\r\n        onChange={(v) => {\r\n          if (v === 0) {\r\n            setTab(false)\r\n          } else {\r\n            setTab(true)\r\n          }\r\n        }}\r\n      >\r\n        <Tabs.TabPane title=\"支出\">\r\n          <Grid border={false} columnNum={5}>\r\n            {\r\n              listOut.map((item) => {\r\n                const name_ = `${item.sortName}`\r\n                const src_ = `http://106.55.188.184:8080/ssmBillBook/upload/typeList/${transPic(item.sortImg)}`\r\n                \r\n                return <Grid.Item\r\n                  text={name_}\r\n                  key={name_}\r\n                  // 图片最好只要50px的\r\n                  icon={<Image src={src_}/>}\r\n                  onClick={async () => {\r\n                    console.log(item)\r\n                    setSelectedItem(item)\r\n                    setKeyBoardVisible(true)\r\n                  }}\r\n                  // hideOnClickOutside={true}\r\n                />\r\n              })\r\n            }\r\n          </Grid>\r\n\r\n        </Tabs.TabPane>\r\n\r\n        <Tabs.TabPane title=\"收入\">\r\n          \r\n        <Grid border={false} columnNum={5}>\r\n          {\r\n            listIn.map((item) => {\r\n              const name_ = `${item.sortName}`\r\n              const src_ = `http://106.55.188.184:8080/ssmBillBook/upload/typeList/${transPic(item.sortImg)}`\r\n\r\n              return <Grid.Item \r\n                text={name_} \r\n                key={name_}\r\n                icon={<Image src={src_}/>}\r\n                \r\n                onClick={async () => {\r\n                  console.log(item)\r\n                  setSelectedItem(item)\r\n                  setKeyBoardVisible(true)\r\n                }}\r\n              />\r\n            })\r\n          }\r\n        </Grid>\r\n\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n\r\n      {/* 数字键盘 */}\r\n      <NumberKeyboard \r\n        title={<Field label=\"\" readonly value={costValue}/>}\r\n        value={costValue}\r\n        theme=\"custom\"\r\n        extraKey={['.', <Icon name=\"calendar-o\"/>]}\r\n        closeButtonText=\"完成\"\r\n        visible={keyBoardVisible}\r\n        onInput={async (v) => {\r\n\r\n          if(typeof v !== 'string' && typeof v !== 'number') {\r\n            console.log('你是日历')\r\n            const tmp = costValue\r\n            await setPopup(true)\r\n            await setKeyBoardVisible(false)\r\n\r\n            // 避免日历对象也被放进输入框\r\n            await setCostValue(tmp)\r\n          } else {\r\n            console.log(v)\r\n          }\r\n        }}\r\n        onClose={async () => {\r\n          console.log(time)\r\n          console.log(typeof res.id, res.id)\r\n          const re = await BookingAPI.addBook({\r\n            userId: res.id,\r\n            sortid: selectedItem.id,\r\n            payid: 1,\r\n            cost: parseFloat(costValue),\r\n            crdate: timeStamp(time),\r\n            content: 'none',\r\n            income: tab\r\n          })\r\n\r\n          if(re !== null) {\r\n            Toast.success({\r\n              message: '添加成功', \r\n              duration: 1000\r\n            })\r\n          }\r\n        }}\r\n        onChange={setCostValue}\r\n        onBlur={async () => {\r\n          setKeyBoardVisible(false)\r\n        }}\r\n      />\r\n\r\n      {/* 时间选择框 */}\r\n      <Dialog\r\n        // closeable\r\n        title=\"请选择日期\"\r\n        round\r\n        visible={popup}\r\n        showCancelButton={false}\r\n        showConfirmButton={false}\r\n      >\r\n        <DatetimePicker\r\n          type=\"date\"\r\n          minDate={new Date(2017, 0, 1)}\r\n          maxDate={new Date(2024, 10, 1)}\r\n          value={time}\r\n          onCancel={async () => {\r\n            await setPopup(false)\r\n            await setKeyBoardVisible(true)\r\n          }}\r\n          onConfirm={async (value) => {\r\n            await setTime(value)\r\n            await setKeyBoardVisible(true)\r\n            await setPopup(false)\r\n          }}\r\n        />\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n","// 时间戳转换\r\n\r\nexport default function translateTimeStamp (date) {\r\n  date = new Date(date)\r\n  console.log(date)\r\n  const Y = date.getFullYear();  //获取年份\r\n  const M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1);  //获取月份\r\n  const D = date.getDate(); //获取日期 \r\n  const h = date.getHours(); //获取小时数\r\n  const m = date.getMinutes(); //获取分钟数\r\n  const s = date.getSeconds(); //获取秒数\r\n  const str = Y + '-' + M + '-' + D + ' %20' + h + ':' + m + ':' + s\r\n  return str\r\n}","import axios from '../http'\r\n\r\nexport async function categorizeByDay (info) {\r\n  const {data: res} = await axios.get(\r\n    `bill/user/${info.userId}/${info.Year}/${info.Month}`\r\n  )\r\n  return res\r\n}\r\n\r\nexport async function categorizeByType (info) {\r\n  const {data: res} = await axios.get(\r\n    `bill/chart/${info.userId}/${info.Year}/${info.Month}`\r\n  )\r\n  return res\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport store from '../../../redux/store'\r\nimport { Image, SwipeCell, Button, Flex, Typography, Cell, Field } from 'react-vant'\r\n// import Img from '../../../assets/img/typeList/sort_bangong.png'\r\n\r\nimport * as BillDetailsAPI from '../../../api/BillDetails/BillDetailsAPI'\r\nimport * as BookingAPI from '../../../api/Booking/BookingAPI'\r\n\r\nexport default function BillDetails () {\r\n  \r\n  var k = store.getState()\r\n  console.log(k)\r\n\r\n  const [list, setList] = useState([])\r\n  const [date, newDate] = useState(new Date())\r\n\r\n  const [fieldValue, setFieldValue] = useState(new Date())\r\n  const [showPicker, setShowPicker] = useState(false)\r\n\r\n  useEffect(async () => {\r\n    const year = date.getFullYear()\r\n    const month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1\r\n    const res = await BillDetailsAPI.categorizeByDay({\r\n      userId: k.id,\r\n      Year: year,\r\n      Month: month\r\n    })\r\n\r\n    await setList(res.daylist)\r\n\r\n    console.log(res)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Field\r\n        readonly\r\n        clickable\r\n        label=\"日期\"\r\n        value={fieldValue}\r\n        placeholder=\"选择显示账单日期\"\r\n        onClick={() => setShowPicker(true)}\r\n      />\r\n\r\n      {\r\n        list.map((item) => {\r\n          return <>{\r\n            item.list.map((itm) => {\r\n              console.log(itm)\r\n              const charastic = itm.income === true ? '+' : '-'\r\n              return <SwipeCell\r\n                rightAction={\r\n                  <Button \r\n                    square type=\"danger\"\r\n                    onClick={async () => {\r\n                      const res = BookingAPI.deleteBook(itm.id)\r\n\r\n                      if (res.status === 100) {\r\n                        console.log(res)\r\n                      }\r\n\r\n                      const year = date.getFullYear()\r\n                      const month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1\r\n                      const resq = await BillDetailsAPI.categorizeByDay({\r\n                        userId: k.id,\r\n                        Year: year,\r\n                        Month: month\r\n                      })\r\n                      await setList(resq.daylist)\r\n                    }}\r\n                  >删除</Button>\r\n                }\r\n              >      \r\n                <Cell title={itm.sort.sortName} icon=\"location-o\" key={itm.id} value={`${charastic}${itm.cost}￥`}/>\r\n              </SwipeCell>\r\n            })\r\n          }</>\r\n        })\r\n      }\r\n    </>\r\n  )\r\n}","import React, { useEffect } from 'react'\r\nimport * as echarts from 'echarts'\r\n\r\nexport default function Charts_ (props) {\r\n\r\n  // useEffect(() => {\r\n\r\n  //   var myChart = echarts.init(document.getElementById(props.id))\r\n \r\n  //   myChart.setOption({\r\n  //     series: [{\r\n  //       name: '访问来源',\r\n  //       type: 'pie',    // 设置图表类型为饼图\r\n  //       radius: '50px',  // 饼图的半径，外半径为可视区尺寸（容器高宽中较小一项）的 55% 长度。\r\n  //       data: dat\r\n  //     }]\r\n  //   })\r\n  // }, [])\r\n\r\n  useEffect(async () => {\r\n\r\n    var myChart = echarts.init(document.getElementById(props.id))\r\n\r\n    myChart.setOption({\r\n      series: [{\r\n        name: '访问来源',\r\n        type: 'pie',    // 设置图表类型为饼图\r\n        radius: '50px',  // 饼图的半径，外半径为可视区尺寸（容器高宽中较小一项）的 55% 长度。\r\n        data: props.data\r\n      }]\r\n    })\r\n  }, [props])\r\n\r\n  return (\r\n    <div id={props.id} style={{width: '80%', height: 300, marginLeft: '10%'}}></div>\r\n  )\r\n}","import React, { useEffect } from 'react'\r\nimport * as echarts from 'echarts'\r\n\r\nfunction getName (obj) {\r\n  const result = []\r\n  obj.map((item) => {\r\n    result.push(item.name)\r\n  })\r\n  return result\r\n}\r\n\r\nfunction getValue (obj) {\r\n  const result = []\r\n  obj.map((item) => {\r\n    result.push(item.value)\r\n  })\r\n  return result\r\n}\r\n\r\nexport default function BarHistogram (props) {\r\n\r\n  useEffect(() => {\r\n    var chartDom = document.getElementById(props.id);\r\n    var myChart = echarts.init(chartDom);\r\n\r\n    myChart.setOption({\r\n      xAxis: {\r\n        type: 'category',\r\n        data: getName(props.data)\r\n      },\r\n      yAxis: {\r\n        type: 'value'\r\n      },\r\n      series: [\r\n        {\r\n          data: getValue(props.data),\r\n          type: 'bar',\r\n          showBackground: true,\r\n          color: 'rgba(246, 130, 115, 1)',\r\n          backgroundStyle: {\r\n            color: 'rgba(180, 180, 180, 0.2)'\r\n          }\r\n        }\r\n      ]\r\n    })\r\n  }, [props])\r\n\r\n  return (\r\n    <div id={props.id} style={{width: '110%', height: 280, marginLeft: '0%'}}></div>\r\n  )\r\n}","export default function transPicData (Arr) {\r\n  const result = []\r\n  if (Arr.length === 0 || Arr.length === undefined) {\r\n    return []\r\n  }\r\n  Arr.map((item) => {\r\n    result.push({\r\n      value: parseFloat(item.money),\r\n      name: item.sort.sortName\r\n    })\r\n  })\r\n  return result\r\n}","import React, { useEffect, useState, useMemo, memo } from 'react'\r\nimport Charts_ from '../../../Components/Charts/Charts'\r\nimport BarHistogram from '../../../Components/Charts/BarHistogram'\r\nimport { Grid, Tabs, Field, Popup, DatetimePicker, Image, Swiper, Divider } from 'react-vant'\r\nimport store from '../../../redux/store'\r\nimport * as BillDetailAPI from '../../../api/BillDetails/BillDetailsAPI'\r\nimport transPicData from '../../../utils/transPicData'\r\n\r\n// const Charts_ = memo(Charts__)\r\n\r\nexport default function Charts (props) {\r\n\r\n  // 登录信息\r\n  const res = store.getState()\r\n\r\n  const [outSortlist, setOutSortlist] = useState([])\r\n  const [inSortlist, setInSortList] = useState([])\r\n  const [totalOut, setTotalOut] = useState()\r\n  const [totalIn, setTotalIn] = useState()\r\n\r\n  const [data_, setData_] = useState([])\r\n  const [data2_, setData2_] = useState([])\r\n\r\n  // 控制弹窗1\r\n  const [showPicker, setShowPicker] = useState(false)\r\n  const [fieldValue, setFieldValue] = useState(new Date())\r\n\r\n  // 控制弹窗2\r\n  const [showPicker1, setShowPicker1] = useState(false)\r\n  const [fieldValue1, setFieldValue1] = useState(new Date())\r\n\r\n  useMemo(() => async () => {\r\n    const response = await BillDetailAPI.categorizeByType({\r\n      userId: res.id,\r\n      Year: 2021,\r\n      Month: '01'\r\n    })\r\n\r\n    await setOutSortlist(response.outSortlist)\r\n    await setInSortList(response.inSortlist)\r\n    await setTotalOut(response.totalOut)\r\n    await setTotalIn(response.totalIn)\r\n  }, [])\r\n\r\n  useEffect(async () => {\r\n    const year = fieldValue.getFullYear()\r\n    const month = fieldValue.getMonth() + 1 < 10 ? '0' + (fieldValue.getMonth() + 1) : fieldValue.getMonth() + 1\r\n\r\n    const response = await BillDetailAPI.categorizeByType({\r\n      userId: res.id,\r\n      Year: year,\r\n      Month: month\r\n    })\r\n\r\n    await setOutSortlist(response.outSortlist)\r\n    await setTotalOut(response.totalOut)\r\n\r\n    const t_val = transPicData(response.outSortlist)\r\n    await setData_(t_val)\r\n\r\n  }, [fieldValue])\r\n\r\n  useEffect(async () => {\r\n    const year = fieldValue1.getFullYear()\r\n    const month = fieldValue1.getMonth() + 1 < 10 ? '0' + (fieldValue1.getMonth() + 1) : fieldValue.getMonth() + 1\r\n\r\n    const response = await BillDetailAPI.categorizeByType({\r\n      userId: res.id,\r\n      Year: year,\r\n      Month: month\r\n    })\r\n\r\n    await setInSortList(response.inSortlist)\r\n    await setTotalIn(response.totalIn)\r\n\r\n    const t_val1 = transPicData(response.inSortlist)\r\n    await setData2_(t_val1)\r\n\r\n  }, [fieldValue1])\r\n\r\n  return (\r\n\r\n    <Tabs active=\"active\"\r\n      onChange={(v) => {\r\n        // console.log(v)\r\n      }}\r\n    >\r\n\r\n      <Tabs.TabPane title=\"支出\">\r\n\r\n        <Field\r\n          readonly\r\n          clickable\r\n          label=\"日期\"\r\n          value={fieldValue}\r\n          placeholder=\"选择显示账单日期\"\r\n          onClick={() => setShowPicker(true)}\r\n        />\r\n        <Grid border={false} columnNum={1}>\r\n          <Grid.Item icon=\"after-sale\" text={`支出：${totalOut}￥`} />\r\n        </Grid>\r\n\r\n        <Popup\r\n          title=\"请选择日期\"\r\n          closeable\r\n          visible={showPicker}\r\n          round\r\n          position=\"bottom\"\r\n          onClose={() => setShowPicker(false)}\r\n        >\r\n          <DatetimePicker\r\n            showSubmitBtn\r\n            onConfirm={async (value) => {\r\n              console.log('getmonth', value.getMonth())\r\n              await setFieldValue(value)\r\n              await setShowPicker(false)\r\n            }}\r\n            type=\"year-month\"\r\n            minDate={new Date(2018, 1, 1)}\r\n            maxDate={new Date(2024, 2, 1)}\r\n            value={fieldValue}\r\n          />\r\n        </Popup>\r\n\r\n        {/* <Divider>图像</Divider> */}\r\n\r\n        <Swiper className=\"my-swipe\">\r\n          <Swiper.Item>\r\n            <Charts_ data={data_} id={\"1\"}/>\r\n          </Swiper.Item>\r\n          <Swiper.Item>\r\n            <BarHistogram data={data_} id={\"3\"}/>\r\n          </Swiper.Item>\r\n        </Swiper>\r\n\r\n      </Tabs.TabPane>\r\n\r\n      <Tabs.TabPane title=\"收入\">\r\n        <Field\r\n          readonly\r\n          clickable\r\n          label=\"日期\"\r\n          value={fieldValue1}\r\n          placeholder=\"选择显示账单日期\"\r\n          onClick={() => setShowPicker1(true)}\r\n        />\r\n        <Grid border={false} columnNum={1}>\r\n          <Grid.Item icon=\"after-sale\" text={`收入：${totalIn}￥`} />\r\n        </Grid>\r\n\r\n        <Popup\r\n          title=\"请选择日期\"\r\n          closeable\r\n          visible={showPicker1}\r\n          round\r\n          position=\"bottom\"\r\n          onClose={() => setShowPicker1(false)}\r\n        >\r\n          <DatetimePicker\r\n            showSubmitBtn\r\n            onConfirm={async (value) => {\r\n              await setFieldValue1(value)\r\n              await setShowPicker1(false)\r\n            }}\r\n            type=\"year-month\"\r\n            minDate={new Date(2018, 1, 1)}\r\n            maxDate={new Date(2024, 2, 1)}\r\n            value={fieldValue1}\r\n          />\r\n        </Popup>\r\n\r\n        <Swiper className=\"my-swipe\">\r\n          <Swiper.Item>\r\n          <Charts_ data={data2_} id={\"2\"}/>\r\n          </Swiper.Item>\r\n          <Swiper.Item>\r\n            <BarHistogram data={data2_} id={\"4\"}/>\r\n          </Swiper.Item>\r\n        </Swiper>\r\n\r\n      </Tabs.TabPane>\r\n\r\n    </Tabs>\r\n  )\r\n}","import axios from '../http'\r\n\r\nexport async function resetInfo (info) {\r\n  var {data: res} = await axios.get(\r\n    `user/update?id=${info.id}&username=${info.username}&gender=${info.gender}&phone=${info.phone}&mail=${info.mail}`\r\n  )\r\n  return res\r\n}\r\n\r\nexport async function uploadPic (info) {\r\n\r\n  console.log(\"axios\", info)\r\n\r\n  // 这里有一点需要我们注意：\r\n  // 如果你是图片传输，那么请使用FormData存储为表单数据\r\n  let formData = new FormData()\r\n  formData.append('file', info)\r\n  var {data: res} = await axios.post(\r\n    'http://106.55.188.184:8080/ssmBillBook/file/upload', formData\r\n  , {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data; boundary=<calculated when request is sent>',\r\n      \"Cache-Control\": \"no-cache\"\r\n    }\r\n  })\r\n  return res\r\n}\r\n\r\nexport async function uploadGender (info) {\r\n  var {data: res} = await axios.get(\r\n    `user/update?id=${info.id}&username=${info.username}&gender=${info.gender}&phone=${info.phone}&mail=${info.mail}`\r\n  )\r\n  return res\r\n}","import React, { useState } from 'react'\r\nimport store from '../../../redux/store'\r\nimport { Uploader, Icon, Cell, ConfigProvider, Dialog, Toast, Radio, Flex } from 'react-vant'\r\nimport * as MyZoneAPI from '../../../api/MyZone/MyZoneAPI'\r\n\r\nconst themeVars = {\r\n  '--rv-cell-label-margin-top': '16px',\r\n}\r\n\r\nexport default function MyZone () {\r\n\r\n  // redux的公共状态\r\n  const res = store.getState()\r\n  console.log(res)\r\n\r\n\r\n  const changeUsername = () => {\r\n\r\n  }\r\n\r\n  const changePassword = () => {\r\n\r\n  }\r\n\r\n  const changePhone = () => {\r\n\r\n  }\r\n\r\n  const changeMail = () => {\r\n\r\n  }\r\n\r\n\r\n  \r\n  const name = `${res.id}` + `_1514361165324.png`\r\n\r\n  const setUrl_ = (name) => {\r\n    return `http://106.55.188.184:8080/ssmBillBook/upload/${name}`\r\n  }\r\n\r\n  // 上传图片的\r\n  const [url, setUrl] = useState(\r\n    res.id > 0 ? \r\n    `http://106.55.188.184:8080/ssmBillBook/upload/` + `${res.id}` + `_1514361165324.png` :\r\n    'https://b.yzcdn.cn/vant/icon-demo-1126.png'\r\n  )\r\n  const [showPic, setShowPic] = useState(false)\r\n  const [isShowUpload, setIsShowUpload] = useState(true)\r\n\r\n  // 更改性别的\r\n  const [showGen, setShowGen] = useState(false)\r\n  const [RadioValue, setRadioValue] = useState(res.gender)\r\n\r\n  return (\r\n    <ConfigProvider themeVars={themeVars}>\r\n      <Cell.Group>\r\n        <Cell\r\n          title=\"头像\" \r\n          isLink\r\n          rightIcon={<Icon name={url} size=\"55px\"/>} \r\n          label=\"点击即可更换头像\"\r\n          onClick={async () => {\r\n            setShowPic(true)\r\n          }}\r\n        />\r\n        <Cell title=\"用户名\" value={`${res.username}`}/>\r\n        <Cell title=\"性别\" value={`${res.gender}`=== 'M' ? '男' : '女'} onClick={() => {setShowGen(true)}} isLink/>\r\n        <Cell title=\"电话\" value={`${res.phone}`} onClick={changePhone}/>\r\n        <Cell title=\"邮箱\" value={`${res.mail}`} onClick={changeMail}/>\r\n      </Cell.Group>\r\n\r\n      {/* 更换头像的对话框 */}\r\n      <Dialog\r\n        visible={showPic}\r\n        title=\"更换头像\"\r\n        showCancelButton={true}\r\n        showConfirmButton={false}\r\n        onCancel={() => setShowPic(false)}\r\n        // onConfirm={changePic}\r\n        messageAlign={\"center\"}\r\n      >\r\n        <Flex>\r\n          <Flex.Item span={9}/>\r\n          <Flex.Item span={16}>\r\n            <Uploader \r\n              style={{marginTop: 30}}\r\n              resultType={\"file\"}\r\n\r\n              afterRead={async (file) => {\r\n\r\n                // 重新创建一个名字\r\n                var newfile = new File([file.file], name, {type:\"image/jpeg\"})\r\n\r\n                var resp = await MyZoneAPI.uploadPic(newfile)\r\n\r\n                if (resp.status < 200) {\r\n                  await setIsShowUpload(false)\r\n\r\n                  await setUrl(`http://106.55.188.184:8080/ssmBillBook/upload/` + `${res.id}` + `_1514361165324.png`)\r\n\r\n                  await setIsShowUpload(true)\r\n                  await setShowPic(false)\r\n\r\n                  Toast.info({\r\n                    message: `ok`\r\n                  })\r\n\r\n                  store.dispatch({\r\n                    type: 'store',\r\n                    data: res\r\n                  })\r\n                }\r\n              }}\r\n\r\n              showUpload={isShowUpload}\r\n              value={[]}\r\n            />\r\n          </Flex.Item>\r\n        </Flex>\r\n      </Dialog>\r\n\r\n      {/* 更换性别的对话框 */}\r\n      <Dialog\r\n        visible={showGen}\r\n        title=\"更换性别\"\r\n        showCancelButton={true}\r\n        onConfirm={async () => {\r\n          const response = await MyZoneAPI.uploadGender({\r\n            id: res.id,\r\n            username: res.username,\r\n            gender: RadioValue,\r\n            phone: res.phone,\r\n            mail: res.mail\r\n          })\r\n\r\n          store.dispatch({\r\n            type: 'store',\r\n            data: response\r\n          })\r\n\r\n          console.log(\"response\", response)\r\n          setShowGen(false)\r\n        }}\r\n        onCancel={() => {\r\n          setShowGen(false)\r\n        }}\r\n      >\r\n        <Radio.Group value={RadioValue}>\r\n          <Cell.Group>\r\n            <Cell title=\"男\" icon=\"friends-o\" rightIcon={<Radio name=\"M\"/>} onClick={() => {setRadioValue(\"M\")}}/>\r\n            <Cell title=\"女\" icon=\"manager-o\" rightIcon={<Radio name=\"F\"/>} onClick={() => {setRadioValue(\"F\")}}/>\r\n          </Cell.Group>\r\n        </Radio.Group>\r\n      </Dialog>\r\n      {/* 后续有时间再来补充吧 */}\r\n      <Dialog></Dialog>\r\n      <Dialog></Dialog>\r\n    </ConfigProvider>\r\n  )\r\n}","import React from 'react'\r\nimport { Empty } from 'react-vant'\r\n\r\nexport default function Error () {\r\n  return (\r\n    <Empty description=\"哎呀，找不到地方啦！\" />\r\n  )\r\n}","import React from 'react'\r\n// import { Redirect } from 'react-router'\r\nimport { HashRouter , Route, Routes } from 'react-router-dom'\r\n\r\nimport Login from '../Login/Login'\r\nimport Sign from '../Sign/Sign'\r\nimport Tabbar from '../../Components/Tabbar/Tabbar'\r\nimport Nav_ from '../../Components/Nav/Nav'\r\n\r\nimport Booking from './Booking/Booking'\r\nimport BillDetails from './BillDetails/BillDetails'\r\nimport Charts from './Charts/Charts'\r\nimport MyZone from './MyZone/MyZone'\r\nimport Error from './Error/Error'\r\n\r\nexport default function PageContainer () {\r\n  return (\r\n    <>\r\n      <div style={{width: '100%', height: '100%', position: 'absolute', backgroundColor: 'rgb(247, 248, 250)'}}>\r\n        <Nav_/>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Login />} exact/>\r\n          <Route path=\"/user/login\" element={<Login />} exact/>\r\n\r\n\r\n          <Route path=\"/BillDetails\" element={<BillDetails />} exact/>\r\n          <Route path=\"/Charts\" element={<Charts />} exact/>\r\n          <Route path=\"/Booking\" element={<Booking />} exact/>\r\n          <Route path=\"/MyZone\" element={<MyZone />} exact/>\r\n          {/* 重定向的新型写法 */}\r\n          {/* <Redirect from=\"/\" to=\"/user/login\" /> */}\r\n\r\n          <Route path=\"*\" element={<Error />} exact/>\r\n        </Routes>\r\n        <Tabbar/>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import react, { useState, useEffect } from 'react';\r\nimport { Tabbar, ConfigProvider, Popup, Toast } from 'react-vant'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Form, Button, Field, Notify, PasswordInput } from 'react-vant'\r\nimport * as LoginAPI from '../../api/Login/LoginAPI'\r\nimport Img from '../../assets/img/LoginBackground.png'\r\n\r\nexport default function Forget () {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const onFinish = async (value) => {\r\n    if (!value.username || !value.mail) {\r\n\r\n      // 重新给爷弹回去\r\n      setShow(!show)\r\n      Toast.fail('未填全信息！');\r\n      return\r\n    }\r\n\r\n    await setUsername(value.username)\r\n    await setMail(value.mail)\r\n    const res = await LoginAPI.userForgetPw(value)\r\n    // console.log(res)\r\n    await setCode(res.mailcode)\r\n  }\r\n\r\n  const setVisible = async () => {\r\n    await setShow(!show)\r\n  }\r\n\r\n  // 状态\r\n  const [show, setShow] = useState(false)\r\n  const [username, setUsername] = useState()\r\n  const [mail, setMail] = useState()\r\n  const [code, setCode] = useState()\r\n\r\n\r\n  // username和mail变化的自定义钩子函数\r\n  // 在这里我们不需要做事情，只需要让username、mail立刻更新状态，而不进行状态合并\r\n  useEffect(() => {\r\n    \r\n  }, [username, mail, code])\r\n\r\n  // 返回登录界面\r\n  const rks = () => {\r\n    navigate('/user/login')\r\n  }\r\n\r\n  const submitNewPassword = async (value) => {\r\n    const obj = {\r\n      username: username,\r\n      password: value.password,\r\n      code: value.code\r\n    }\r\n\r\n    const res = await LoginAPI.resetPw(obj)\r\n\r\n    if (res.status < 200) {\r\n      Toast.success('修改成功')\r\n      await setShow(!show)\r\n      navigate('/user/login')\r\n    } else {\r\n      Toast.fail('错误，请重试')\r\n    }\r\n  }\r\n\r\n  const [form] = Form.useForm()\r\n\r\n  const [form_] = Form.useForm()\r\n  return (\r\n    <>\r\n    <img src={Img} className={\"myImg\"} alt=\"\"/>\r\n    <div className={\"FormBox\"}>\r\n      <h3 className={\"loginText\"}>Forgot Password</h3>\r\n      <Form\r\n        form={ form }\r\n        onFinish={ onFinish }\r\n        footer={\r\n          <div style={{ margin: '16px 16px 0' }}>\r\n            <Button round nativeType=\"submit\" type=\"primary\" block onClick={() => {setShow(!show)}}>\r\n              获取验证码\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          label=\"账号\"\r\n        >\r\n          <Field placeholder=\"请输入你的账号\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"mail\"\r\n          label=\"邮箱\"\r\n          // rules={[{ pattern: /\\d{6}/, message: '密码不能为空' }]}\r\n        >\r\n          <Field placeholder=\"请输入你的绑定邮箱\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n        >\r\n          <a style={{color: 'blue', fontSize: 6}} onClick={ rks }>返回登录</a>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n\r\n    <Popup\r\n      visible={show === true} round position=\"bottom\" style={{ height: '30%' }}\r\n      destroyOnClose={true}\r\n      onClickOverlay={setVisible}\r\n    >\r\n      <Form\r\n        form={ form_ }\r\n        onFinish={ submitNewPassword }\r\n        footer={\r\n          <div style={{ margin: '16px 16px 0' }}>\r\n            <Button round nativeType=\"submit\" type=\"primary\" block>\r\n              修改密码\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"请输入新密码\"\r\n        >\r\n          <Field placeholder=\"请输入新密码\"/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"code\"\r\n          label=\"请输入验证码\"\r\n        >\r\n          <Field placeholder=\"请输入验证码\"/>\r\n        </Form.Item>\r\n      </Form>\r\n    </Popup>\r\n  </>\r\n  )\r\n}","import React from 'react'\r\n// import { Redirect } from 'react-router'\r\nimport { HashRouter , Route, Routes } from 'react-router-dom'\r\nimport Login from '../pages/Login/Login'\r\nimport Sign from '../pages/Sign/Sign'\r\nimport PageContainer from '../pages/PageContainer/PageContainer'\r\nimport Forget from '../pages/Forget/Forget'\r\n\r\nexport default function IndexRouter () {\r\n  localStorage.getItem('set_a_token')\r\n  return (\r\n    <HashRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Login />} exact/>\r\n        <Route path=\"/user/login\" element={<Login />} exact/>\r\n        {/* 一些不想要展示tabbar的栏目，我们可以在这里渲染 */}\r\n        <Route path=\"/user/sign\" element={<Sign />} exact/>\r\n        <Route path=\"/user/forgetPw\" element={<Forget />} exact/>\r\n        {/* ================================================= */}\r\n        <Route path=\"*\" element={<PageContainer/>} exact/>\r\n      </Routes>\r\n    </HashRouter>\r\n  )\r\n}","import React from 'react';\nimport IndexRouter from './router/IndexRouter';\n\n// 添加所有样式\nimport 'react-vant/lib/index.css';\n\nfunction App() {\n  return (\n    <div>\n      <IndexRouter />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}